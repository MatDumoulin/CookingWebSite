<!--<div class="modal-header viewRecipe-ModalHeader">
  <button type="button" class="close" data-dismiss="modal">&times;</button>-->
  <!-- div class="modal hide" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false" >
      <div class="modal-header">
          <h1>Processing...</h1>
      </div>
      <div class="modal-body">
          <div class="progress progress-striped active">
              <div class="bar" style="width: 100%;"></div>
          </div>
      </div>
  </div>                                                        Modal error handling                  -->
<div class="header">
  <h1 md-dialog-title>Création d'une recette<span *ngIf="recipe.name">: <i>{{recipe.name | uppercase}}</i></span></h1>
  <md-icon class="clickable" color="primary" (click)="closeDialog()">clear</md-icon>
</div>

<form #createRecipeForm="ngForm" autocomplete="off" md-dialog-content>
  <md-tab-group dynamicHeight="true" [(selectedIndex)]="selectedTab" md-stretch-tabs>
    <md-tab label="Informations">
      <div class="tab-content recipe-info">

        <div class="image-container image-box small-margin-bottom" mdTooltip="Changez l'image de cette recette!">
          <input type="file" class="hidden" accept="image/*" (change)="updateImage($event)" #fileInput>
          <img class="image" [src]="displayedImage" alt="Photo of the recipe to create">
          <div class="image-hover-shader image-box" (click)="fileInput.click()">
            <img src="../../../assets/photo.svg" alt="Change photo">
          </div>
        </div>

        <div class="recipe-info-inputs">
          <div>
            <md-form-field>
              <input mdInput placeholder="Nom de la recette" name="name" [(ngModel)]="recipe.name" required>
              <md-error> Le nom de la recette est <strong>requis</strong> </md-error>
            </md-form-field>

            <div class="mat-input-wraper medium-margin-bottom"> <!-- Gives the same spacing as a normal input -->
              <md-select placeholder="Genre" name="genre" [(ngModel)]="recipe.genre" required>
                 <md-option *ngFor="let genre of GENRES" [value]="genre">{{ genre }}</md-option>
              </md-select>
            </div>

            <md-form-field>
              <input mdInput placeholder="Portion" name="portion" [(ngModel)]="recipe.results"
                     mdTooltip="Vous de disposez pas de cette information? Remplissez-le plus tard!">
            </md-form-field>
          </div>

          <div class="time-container">
            <md-form-field class="time-input">
              <input type="number" mdInput placeholder="Préparation (minutes)" name="prepTime" [(ngModel)]="recipe.prepTime" required>
              <md-error> Le temps de préparation est <strong>requis</strong> </md-error>
            </md-form-field>

            <md-form-field class="time-input">
              <input type="number" mdInput placeholder="Cuisson (minutes)" name="cookTime" [(ngModel)]="recipe.cookTime">
              <md-error> Le temps de cuisson est <strong>requis</strong> </md-error>
            </md-form-field>

            <md-form-field class="time-input">
              <input type="number" mdInput placeholder="Repos (minutes)" name="cooldownTime" [(ngModel)]="recipe.cooldownTime">
              <md-error> Le temps de repos est <strong>requis</strong> </md-error>
            </md-form-field>
          </div>
        </div>

        <!--<ul>
          <li>Nom</li>
          <li>Image</li>
          <li>Genre</li>
          <li>Tags</li>
          <li>Portions</li>
        </ul>-->
      </div>
    </md-tab>

    <md-tab label="Étapes et Ingrédients">
      <div class="tab-content ingredients-steps">
        <ingredient-section-wrapper class="recipe-section" name="ingredient-section"
              [(ngModel)]="recipe.ingredientSection"></ingredient-section-wrapper>

        <step-section-wrapper class="recipe-section" name="step-section"
              [(ngModel)]="recipe.stepSection"></step-section-wrapper>
        <!--<ul>
          <li>Ingrédients</li>
          <li>Étapes</li>
        </ul>-->
      </div>
    </md-tab>

    <md-tab label="Commentaires">
      <div class="tab-content comments-tab">
        <equipment-listbox class="recipe-section" name="equipment-section"
              [(ngModel)]="recipe.equipment"></equipment-listbox>

        <div class="recipe-section comments-rating">
          <md-form-field>
                <textarea mdInput placeholder="Commentaires" name="notes" [(ngModel)]="recipe.notes"></textarea>
          </md-form-field>

          <div>
            <Label>Note*</Label>
            <div class="rating">
              <star-rating class="rating-control" name="rating" [(ngModel)]="recipe.rating" required></star-rating>
            </div>
          </div>
        </div>
      </div>
    </md-tab>
  </md-tab-group>
</form>
<md-dialog-actions align="end">
  <button color="primary" (click)="goToNextTab()" *ngIf="selectedTab != NUMBER_OF_TABS" md-raised-button>Suivant</button>
  <button color="accent" (click)="createRecipe()" *ngIf="selectedTab === NUMBER_OF_TABS"
          [disabled]="!createRecipeForm.form.valid" mdTooltip="Vous pouvez désormais créer votre recette!" md-raised-button>Créer</button>
</md-dialog-actions>
